<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.cp.dao.FacultyMapperExtra" >
	<select id="getIdByUserId" resultType="String">
		SELECT id FROM faculty WHERE user_id = #{userId,jdbcType=VARCHAR}
	</select>
	
	<select id="getFacultyByUserId" resultType="java.util.HashMap">
		SELECT 
			f.id,
			f.name,
			id_no AS idNo,
			faculty_no AS facultyNo,
			school_id SchoolId,
			user_id AS userId,
			sex,
			ct.code_name AS sexName
		FROM faculty AS f,school AS s, code_table AS ct
		WHERE f.school_id = s.id AND f.sex = ct.code
		AND f.user_id = #{userId,jdbcType=VARCHAR}
	</select>
</mapper>